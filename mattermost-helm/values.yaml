global:
  dbRootPassword: "rootpasswd"
  dbUser: "mmuser"
  dbPassword: "passwd"
  dbName: "mattermost"
  filesAccessKey: "AKIAIOSFODNN7EXAMPMM"
  filesSecretKey: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKMM"
  mattermostLicense: "THIS STRING SHOULD BE REPLACED WITH THE CONTENTS OF YOUR LICENSE FILE"
  features:
    elasticsearch: false
    jobserver:
      name: jobserver
      enabled: true
      replicaCount: 1
      service:
        name: mattermost-app-jobserver
        type: ClusterIP
    notifications:
      # Push proxy must be configured or useHPNS must be true for push noticiations to work.
      push:
        enabled: false
        # Hosted push notification service. Requires an enterprise license.
        # More details at https://docs.mattermost.com/mobile/mobile-hpns.html.
        useHPNS: false

tags:
  core: true
  metrics: true
  loadtest: false

mattermost-app:
  replicaCount: 2
  image:
    tag: daily-build
  jobserver:
    enabled: enabled
    replicaCount: 2

tls:
  # When enabled kube-lego will use Let's Encrypt to get a SSL cert
  enabled: false
  # Host name the SSL cert will be registered for
  hostname: example.com

kube-lego:
  config:
    # Replace this email with the one for registering your SSL cert
    LEGO_EMAIL: someone@example.com
    # Defaults to the staging environment, update to https://acme-v01.api.letsencrypt.org/directory for production
    LEGO_URL: https://acme-staging.api.letsencrypt.org/directory
  rbac:
    # Set to true if your Kubernetes cluster has RBAC enabled
    create: true

nginx-ingress:
  controller:
    config:
      http-snippet: |
        proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=mattermost_cache:10m max_size=3g inactive=120m use_temp_path=off;
  rbac:
    # Set to true if your Kubernetes cluster has RBAC enabled
    create: true

mattermost-elasticsearch:
  client:
    replicaCount: 2
  master:
    replicaCount: 3
  data:
    replicaCount: 2

mattermost-loadtest:
  numTeams: 1
  numChannelsPerTeam: 4000
  numUsers: 5000
  testLengthMinutes: 20
  numActiveEntities: 5000
  actionRateMilliseconds: 60000
  actionRateMaxVarianceMilliseconds: 15000
  pprofDelayMinutes: 15
  pprofLengthSeconds: 240
  sendReportToMMServer: false
  resultsServerUrl: ""
  resultsChannelId: ""
  resultsUsername: ""
  resultsPassword: ""

mattermost-push-proxy:
  replicaCount: 2
  applePushSettings:
    apple:
      configMap: "apple-cert-path"
      privateCert: ""
      privateCertPassword: ""
      pushTopic: "com.mattermost.Mattermost"
    apple_rn:
      configMap: "apple-rn-cert-path"
      privateCert: ""
      privateCertPassword: ""
      pushTopic: "com.mattermost.react.native"
    apple_rnbeta:
      configMap: "apple-rnbeta-cert-path"
      privateCert: ""
      privateCertPassword: ""
      pushTopic: ""
  androidPushSettings:
    android:
      apiKey: ""
    android_rn:
      apiKey: ""
